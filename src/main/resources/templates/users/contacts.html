<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/partials :: head('Contacts')"></head>
<body>
<nav th:replace="/fragments/partials :: navbar"></nav>

<div class="container">
	<div class="row">
		<h1>Contacts <a href="/contacts/add" class="btn btn-default"><span class="glyph glyphicon-plus"></span></a></h1>

		<div class="col-lg-6">
			<input type="text" placeholder="search" id="searchContacts" class="form-control"/>
		</div>
		<div th:each="contact : ${contacts}">
			<h4><a th:href="${'/contacts/' + contact.id}">
				<span th:text="${contact.firstName}"></span>
				<span th:text="${contact.lastName}" th:if="${contact.lastName != null}"></span>
				</a>
			</h4>
		</div>
	</div>

</div>

<div th:replace="/fragments/partials :: scripts"></div>
<script>
    $(document).ready(function(){
        $("#searchContacts").keyup(function(){
            $("h4>a").each(function(){
                var show = $(this).text().toLowerCase().indexOf($("#searchContacts").val().toLowerCase()) >= 0;
                if(show){
                    $(this).show();
                } else {
                    $(this).hide();
                }
            })
        })
    });
</script>
</body>
</html>