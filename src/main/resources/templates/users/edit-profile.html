<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head th:replace="fragments/partials :: head('Update profile')">
</head>
<body>

<nav th:replace="fragments/partials :: navbar"></nav>

<div class="container">

    <div class="row">

        <h1>Update profile </h1>
        <!--<div>-->
        <!--sec:authorize="isAuthenticated()"-->
        <!--&gt;-->

        <!--First name: <span th:text="${firstName}"/>-->
        <!--#authentication.principal.firstName}"/>-->
        <!--Email: <span th:text="${username}"/>-->
        <!--#authentication.principal.username-->
        <!--}"/>-->
        <!--</div>-->

        <!--<div sec:authorize="!isAuthenticated()">-->
        <!--Please log in-->
        <!--</div>-->

        <form
              th:action="${'/profile/edit'}"
              th:method="POST" th:object="${user}">
                <!--th:action="@{/edit-profile}"-->

            <!--Resubmit object ids-->
            <input type="hidden" th:field="*{id}"/>
            <input type="hidden" th:field="*{contact.id}"/>

            <div class="col-xs-12 col-md-6">

                <a href="#" class="list-group-item active">Your profile info</a>

                <div class="form-row">

                    <div class="form-group col-md-6">
                        <label for="firstName">First name</label>
                        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First name" th:field="*{contact.firstName}" />
                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('contact.firstName')}"
                            th:errors="*{contact.firstName}">
                        </div>

                    </div>

                    <div class="form-group col-md-6">
                        <label for="lastName">Last name</label>
                        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last name" th:field="*{contact.lastName}" />

                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('contact.lastName')}"
                            th:errors="*{contact.lastName}">
                        </div>

                    </div>

                </div>

                <div class="form-row">

                    <div class="form-group col-md-6">
                        <label for="username">Email</label>
                        <input type="text" class="form-control" id="username" name="username" placeholder="Email" th:field="*{username}" />

                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('username')}"
                            th:errors="*{username}">
                        </div>

                    </div>

                    <div class="form-group col-md-6">
                        <label for="phoneNumber" class="col-form-label">Cell phone number</label>
                        <input type="text" class="form-control" id="phoneNumber" placeholder="(xxx)xxx-xxxx" th:field="*{contact.phoneNumber}" />
                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('contact.phoneNumber')}"
                            th:errors="*{contact.phoneNumber}">
                        </div>
                    </div>

                </div>

            </div>

            <div class="col-xs-12 col-md-6">

                <a href="#" class="list-group-item active">Update your password</a>


                <div class="form-row">

                    <div class="form-group col-md-12">

                        <label for="password">Current password</label>
                        <input type="password" class="form-control" name="password" id="password" placeholder="Current password" th:field="*{password}"/>

                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('password')}"
                            th:errors="*{password}">
                        </div>

                    </div>

                </div>

                <div class="form-row">

                    <div class="form-group col-md-6">

                        <label for="newPassword">New password</label>
                        <input type="password" class="form-control" name="newPassword" id="newPassword" placeholder="New password" th:field="*{newPassword}"/>

                        <div
                            class="alert alert-danger"
                            th:if="${#fields.hasErrors('newPassword')}"
                            th:errors="*{newPassword}">
                        </div>

                    </div>

                    <div class="form-group col-md-6">
                        <label for="confirmNewPassword">Confirm new password</label>
                        <input type="password" class="form-control" name="confirmNewPassword" id="confirmNewPassword"
                               placeholder="Confirm new password" th:field="*{confirmNewPassword}"/>
                        <div
                                class="alert alert-danger"
                                th:if="${#fields.hasErrors('confirmNewPassword')}"
                                th:errors="*{confirmNewPassword}">
                        </div>

                    </div>

                </div>
            </div>

            <div class="col-xs-4 col-xs-offset-4 col-md-2 col-md-offset-5">
                <button type="submit" id="update-profile" class="btn btn-primary" style="width: 100%;">Update profile</button>
            </div>
        </form>
        <div class="col-xs-4 col-xs-offset-4 col-md-2 col-md-offset-5">
        <a href="/profile" class="btn btn-danger" style="width: 100%;">Cancel</a>
        </div>

    </div>

</div>


<div th:include="fragments/partials :: scripts"></div>
</body>
</html>