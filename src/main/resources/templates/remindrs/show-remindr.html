<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/partials :: head('Show remindr')"></head>
<body>
<nav th:replace="/fragments/partials :: navbar"></nav>
    <div class="container">
        <div class="row">

        <h2>Event details
            <a th:href="@{/remindrs/{id}/edit(id=${remindr.id})}" class="btn btn-default">
                <span class="glyphicon glyphicon-pencil"></span>
            </a>
        </h2>

        <h4>Title:</h4>
        <p th:text="${remindr.title}"></p>
        <!--<img th:src="${remindr.uploadPath}" alt="event image" />-->

        <div th:if="${description} != null">
            <h4>Description:</h4>
            <p th:text="${description}"></p>
        </div>

        <!--START DATE AND TIME-->
        <div th:if="${startdate} != null">
            <h4>Start date/ time:</h4>
            <p th:text="${startdate}"></p>
        </div>
        <div th:if="${starttime} != null">
            <p th:text="${starttime}"></p>
        </div>
        <!--<p th:text="${remindr.startDateTime}"></p>-->

        <!--END DATE AND TIME-->
        <div th:if="${enddate} != null">
            <h4>End date/ time:</h4>
            <p th:text="${enddate}"></p>
        </div>
        <div th:if="${endtime} != null">
            <p th:text="${endtime}"></p>
        </div>
        <!--<p th:text="${remindr.endDateTime}"></p>-->

        <!--in cron job format-->
        <div th:if="${recurrence} != null">
            <h4>Recurring date/ time:</h4>
            <p th:text="${recurrence}"></p>
        </div>

        <h4>Location:</h4>
        <p th:text="${remindr.location}"></p>

        <!--CONTACTS-->
        <h2>Friends
            <a th:href="@{/remindrs/{id}/add-contacts(id=${remindr.id})}" class="btn btn-default">
                <span class="glyphicon glyphicon-pencil"></span>
            </a>
        </h2>

        <h4>
            <span th:text="${contactSize}"></span>
            friend(s) invited
            <span th:if="${contactSize} > 0">:</span>
        </h4>
        <ul th:each="contact : ${contacts}">
            <li th:text = "${contact.firstName + ' ' + contact.lastName}"></li>
        </ul>

        <!--ALERTS-->
        <h2>Remindrs
            <a th:href="@{/remindrs/{id}/edit-alerts(id=${remindr.id})}" class="btn btn-default"><span class="glyphicon glyphicon-pencil"></span>
            </a>
        </h2>

        <h4>
            <span th:text="${numberOfAlerts}"></span>
            remindr(s) set
            <span th:if="${numberOfAlerts} > 0">:</span>
        </h4>
        <ul th:each="alert : ${alerts}">
            <li th:text = "${alert}"></li>
        </ul>

        <h4>Created by:
            <span th:text="${remindr.user.contact.FirstName + ' ' + remindr.user.contact.LastName}"></span>
        </h4>

        <!-- Button trigger modal -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#deleteRemindrModal">
            Delete
        </button>
        <a th:href="@{/remindrs}" class="btn btn-primary" style="color:white;">Back to remindrs</a>
        </div>
    </div>

<div class="modal fade" tabindex="-1" role="dialog" id="deleteRemindrModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Delete remindr</h4>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this remindr?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Cancel</button>
                <button onclick="confirmDeleteRemindr()" type="button" data-dismiss="modal" class="btn btn-primary">Confirm delete</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div th:replace="/fragments/partials :: scripts"></div>
<div th:replace="/fragments/deleteRemindrModal :: deleteRemindrModalScript"></div></body>
</html>